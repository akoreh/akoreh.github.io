import{c as C,g as q,k as H}from"./chunk-43QEPZZV.js";import{e as D}from"./chunk-2W377MUZ.js";import{e as y}from"./chunk-VLPVFQJS.js";import{$a as E,Ab as O,Cb as P,Db as b,Eb as f,Fb as A,Hb as j,Ia as d,Jb as B,Mb as K,Ob as V,Sb as Y,Ub as G,Vb as Q,Y as M,Za as p,bb as S,da as l,dc as g,hc as u,ib as v,jb as k,jc as $,kb as N,kc as x,oc as w,pb as c,qb as a,ra as F,rb as m,tb as T,ub as I}from"./chunk-VXUXNVNJ.js";var h=(()=>{class o{updateErrorState;static \u0275fac=function(n){return new(n||o)};static \u0275dir=E({type:o})}return o})();var R=["*",[["ps-form-field-error"]]],U=["*","ps-form-field-error"],z=(o,i)=>({"opacity-0":o,"opacity-100":i}),se=(()=>{class o{showError=g(()=>{let e=this.control();return D(e)?!1:e.hasError()});control=$(h);ngAfterContentInit(){let e=this.control();if(D(e))throw new Error("FormFieldControl not found")}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=p({type:o,selectors:[["ps-form-field"]],contentQueries:function(n,t,r){n&1&&A(r,t.control,h,5),n&2&&j()},ngContentSelectors:U,decls:5,vars:6,consts:[[1,"flex","flex-col"],["data-testid","errorContainer",1,"container","grid","items-start","overflow-hidden","transition-all","duration-200","ease-in-out",3,"ngClass"],[1,"min-h-0"]],template:function(n,t){n&1&&(b(R),a(0,"div",0),f(1),a(2,"div",1)(3,"div",2),f(4,1),m()()()),n&2&&(d(2),B("grid-template-rows",t.showError()?"1fr":"0fr"),c("ngClass",G(3,z,!t.showError(),t.showError())))},dependencies:[y],styles:["[_nghost-%COMP%]{display:block}.container[_ngcontent-%COMP%]    >*:not(:first-child){display:none}"],changeDetection:0})}return o})();var J=["*"],de=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275cmp=p({type:o,selectors:[["ps-form-field-error"]],hostAttrs:["role","alert","aria-live","assertive"],ngContentSelectors:J,decls:2,vars:0,consts:[["data-testid","fieldError",1,"text-[0.8rem]","text-red-800"]],template:function(n,t){n&1&&(b(),T(0,"span",0),f(1),I())},encapsulation:2,changeDetection:0})}return o})();function L(o){return class extends o{hasError=F(!1);parentForm=l(q,{optional:!0});parentFormGroup=l(H,{optional:!0});ngControl=l(C,{optional:!0});constructor(...i){super(...i)}updateErrorState(){if(!this.ngControl)return;let i=this.parentFormGroup||this.parentForm,e=this.ngControl.control,n=this.hasError(),t=!!(e&&e.invalid&&(e.touched||i&&i.submitted));t!==n&&this.hasError.set(t)}}}var W=(o,i,e)=>({"border-window-border":o,"border-primary-red input-error":i,"input-disabled cursor-not-allowed opacity-50":e});function X(o,i){if(o&1&&(a(0,"label",1),K(1),m()),o&2){let e=P();c("for",e.id+"-input"),d(),V(" ",e.label()," ")}}var Z=L(class{}),Fe=(()=>{class o extends Z{static nextId=0;id=`ps-input-${o.nextId++}`;placeholder=u.required();value=x();disabled=x(!1);label=u();type=u("text");min=u(null,{transform:w});max=u(null,{transform:w});internalType=g(()=>{let e=this.type();return e==="double"||e==="integer"?"text":e});inputMode=g(()=>{let e=this.type();return e==="integer"?"numeric":e==="double"?"decimal":"text"});constructor(){super(),this.ngControl&&(this.ngControl.valueAccessor=this)}ngControl=l(C,{optional:!0});onChange;onTouched;ngDoCheck(){this.ngControl&&this.updateErrorState()}onInput(e){let n=e.target,t=n.value,r=t;this.type()==="integer"&&(r=r.replace(/[^0-9]/g,""),r=parseInt(r,10),r.toString()!==t&&(n.value=r.toString())),this.value.set(r),this.onChange&&this.onChange(r)}onBlur(){this.onTouched&&this.onTouched()}onKeyDown(e){let n=this.type(),t=e.key;if(!(t==="Backspace"||t==="Delete"||t==="Tab"||t==="Escape"||t==="Enter"||t==="ArrowLeft"||t==="ArrowRight"||t==="ArrowUp"||t==="ArrowDown"||t==="Home"||t==="End"||e.ctrlKey||e.metaKey)){if(n==="integer")/^[0-9]$/.test(t)||e.preventDefault();else if(n==="double"){let s=e.target.value;if(!/^[0-9.]$/.test(t)){e.preventDefault();return}t==="."&&s.includes(".")&&e.preventDefault()}}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.value.set(e??"")}setDisabledState(e){this.disabled.set(e)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=p({type:o,selectors:[["ps-input"]],hostAttrs:[1,"block"],hostVars:1,hostBindings:function(n,t){n&2&&v("data-type",t.type())},inputs:{placeholder:[1,"placeholder"],value:[1,"value"],disabled:[1,"disabled"],label:[1,"label"],type:[1,"type"],min:[1,"min"],max:[1,"max"]},outputs:{value:"valueChange",disabled:"disabledChange"},features:[Y([{provide:h,useExisting:M(()=>o)}]),S],decls:3,vars:14,consts:[[1,"flex","flex-col","gap-y-1"],["data-testid","inputLabel",1,"text-window-border","text-sm","font-medium","tracking-wide",3,"for"],["data-testid","input",1,"sketchy-input","text-window-border","placeholder:text-window-border","focus:border-primary-blue","w-full","border-solid","bg-[#fffef8]","px-3","py-2","text-sm","outline-none","transition-all","duration-150","placeholder:opacity-70","focus:bg-white",3,"keydown","input","blur","ngClass","id","type","placeholder","disabled","value"]],template:function(n,t){n&1&&(a(0,"div",0),k(1,X,2,2,"label",1),a(2,"input",2),O("keydown",function(s){return t.onKeyDown(s)})("input",function(s){return t.onInput(s)})("blur",function(){return t.onBlur()}),m()()),n&2&&(d(),N(t.label()?1:-1),d(),c("ngClass",Q(10,W,!t.hasError(),t.hasError(),t.disabled()))("id",t.id+"-input")("type",t.internalType())("placeholder",t.placeholder())("disabled",t.disabled())("value",t.value()??""),v("inputmode",t.inputMode())("min",t.min())("max",t.max()))},dependencies:[y],styles:["[_nghost-%COMP%]{display:block}.sketchy-input[_ngcontent-%COMP%]{border-width:3px;border-radius:4px 6px 5px 7px;box-shadow:3px 3px #4e402de6}.sketchy-input[_ngcontent-%COMP%]:hover:not(:disabled), .sketchy-input[_ngcontent-%COMP%]:focus{transform:translate(-1px,-1px);box-shadow:5px 5px #4e402de6}.input-error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_error-bounce .4s ease;background-color:#fff5f5!important;box-shadow:4px 4px #f26a6ae6!important}.input-error[_ngcontent-%COMP%]:focus{box-shadow:6px 6px #f26a6ae6!important}.input-disabled[_ngcontent-%COMP%]{background-color:#f0ebe0!important;box-shadow:2px 2px #4e402de6!important}.input-disabled[_ngcontent-%COMP%]:hover{transform:none!important}@keyframes _ngcontent-%COMP%_error-bounce{0%,to{transform:translateY(0)}25%{transform:translateY(-3px)}50%{transform:translateY(0)}75%{transform:translateY(-2px)}}"],changeDetection:0})}return o})();export{se as a,de as b,Fe as c};
